# System Structure Viewer

インタラクティブなシステム構造図ビュワーアプリケーション。構造図画像をアップロードし、エリアを選択してファイルやURLを紐付け、ホバーでプレビューを表示できます。

## 機能

- 📊 **構造図の表示**: システム構造図画像を読み込んで表示
- ✏️ **エリア選択**: ドラッグ操作で画像上にクリック可能なエリアを作成
- 📎 **ファイル・URL紐付け**: 各エリアにファイルやWebリンクを関連付け
- 👁️ **プレビュー表示**: ホバー時にGoogle Docs風のプレビューを表示
- 💾 **プロジェクト管理**: 複数のプロジェクトを保存・読み込み可能

## 対応ファイル形式

- **テキスト**: .txt, .md, .log
- **コード**: .py, .js, .html, .css, .json, .ipynb
- **Office**: .xlsx, .xlsm, .docx, .pptx
- **その他**: .pdf, Webリンク(URL)

## 開発環境セットアップ

### 必要なソフトウェア

- **Node.js** (v18以上推奨)
  - ダウンロード: https://nodejs.org/

### インストール手順

1. プロジェクトフォルダに移動:
```bash
cd "C:\Users\marsh\AntiGravity\システム構造の表示プログラム"
```

2. 依存パッケージをインストール:
```bash
npm install
```

## 使い方

### 開発モードで起動

```bash
npm start
```

### exeファイルをビルド

```bash
npm run build
```

ビルド後、`dist/` フォルダ内に実行可能な `.exe` ファイルが生成されます。

## アプリケーションの使用方法

### 1. プロジェクトの作成

1. 「新規プロジェクト」ボタンをクリック
2. プロジェクト名を入力

### 2. 構造図のアップロード

1. 「構造図をアップロード」ボタンをクリック
2. システム構造図の画像ファイルを選択

### 3. エリアの作成（編集モード）

1. 編集モードになっていることを確認
2. 画像上でドラッグしてエリアを作成
3. 自動的に表示されるモーダルでファイル/URLを設定

### 4. プレビュー表示（閲覧モード）

1. 「閲覧」ボタンをクリックして閲覧モードに切り替え
2. エリアにマウスをホバーするとプレビューが表示されます
3. エリアをクリックするとファイル/URLが開きます

### 5. プロジェクトの保存

1. 「保存」ボタンをクリック
2. プロジェクト設定が `saves/プロジェクト名/` に保存されます

## プロジェクト構造

```
システム構造の表示プログラム/
├── main.js              # Electronメインプロセス
├── preload.js           # セキュアなIPC通信ブリッジ
├── package.json         # プロジェクト設定
├── src/
│   ├── index.html       # メインUI
│   ├── styles/
│   │   └── main.css     # スタイルシート
│   └── js/
│       ├── app.js       # アプリケーション状態管理
│       ├── canvas.js    # キャンバス描画・操作
│       ├── file-handler.js  # ファイル関連付け
│       └── preview.js   # プレビュー機能
└── saves/               # プロジェクト保存フォルダ
    └── {プロジェクト名}/
        └── config.json  # プロジェクト設定
```

## トラブルシューティング

### npm install が失敗する

- Node.jsのバージョンを確認してください（v18以上）
- インターネット接続を確認してください
- 管理者権限でコマンドプロンプトを起動してください

### アプリが起動しない

- `npm start` でエラーメッセージを確認してください
- `node_modules` フォルダを削除して `npm install` を再実行してください

### ビルドしたexeが起動しない

- Windows Defenderやセキュリティソフトでブロックされていないか確認してください
- `dist/` フォルダ全体を新しい場所にコピーして実行してください

## ライセンス

MIT License

## 開発者向けメモ

- **開発ツール**: アプリ実行中に `F12` で開発者ツールを開けます（main.jsで設定）
- **デバッグ**: `console.log` の出力は開発者ツールのConsoleタブで確認できます
- **ホットリロード**: ソースコード変更後はアプリを再起動してください
