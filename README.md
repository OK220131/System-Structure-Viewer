# System Structure Viewer

インタラクティブなシステム構造図ビュワーアプリケーション。構造図画像をアップロードし、エリアを選択してファイルやURLを紐付け、ホバーでプレビューを表示できます。

## 機能

- 📊 **構造図の表示**: システム構造図画像を読み込んで表示
- ✏️ **エリア選択**: ドラッグ操作で画像上にクリック可能なエリアを作成
- 📎 **ファイル・URL紐付け**: 各エリアにファイル、フォルダ、またはWebリンクを関連付け
-   **フォルダ対応**: フォルダを紐付けて、内部のファイル構造をツリー表示
-  👁️ **リッチなプレビュー**: 
    - テキスト・ソースコード（シンタックスハイライト付き）
    - 画像ファイル
    - データファイル（CSV, JSON）
    - フォルダ構造
- ⌨️ **プレビュー固定**: `Ctrl + V` でプレビューウィンドウを固定し、スクロールやテキスト選択が可能
- 💾 **プロジェクト管理**: 複数のプロジェクトを保存・読み込み可能

## 対応ファイル形式

- **テキスト**: .txt, .md, .log
- **コード**: .py, .js, .html, .css, .json, .ipynb, .c, .cpp, .java など
- **Office**: .xlsx, .xlsm, .docx, .pptx
- **画像**: .png, .jpg, .jpeg, .gif, .svg, .webp
- **データ**: .csv, .json
- **その他**: .pdf, Webリンク(URL), フォルダ

## 開発環境セットアップ

### 必要なソフトウェア

- **Node.js** (v18以上推奨)
  - ダウンロード: https://nodejs.org/

### インストール手順

1. プロジェクトフォルダに移動:
```bash
cd "C:\Users\marsh\AntiGravity\システム構造の表示プログラム"
```

2. 依存パッケージをインストール:
```bash
npm install
```

## 使い方

### 開発モードで起動

```bash
npm start
```

### exeファイルをビルド

```bash
npm run build
```

ビルド後、`dist/` フォルダ内に実行可能な `.exe` ファイルが生成されます。

## アプリケーションの使用方法

### 1. プロジェクトの作成
1. 「新規プロジェクト」ボタンをクリック
2. プロジェクト名を入力（例：`_(:3」∠)_`）

### 2. 構造図のアップロード
1. 「構造図をアップロード」ボタンをクリック
2. システム構造図の画像ファイルを選択

### 3. エリアの作成とリンク（編集モード）
1. 編集モードになっていることを確認
2. 画像上でドラッグしてエリアを作成
3. 設定モーダルが表示されます：
    - **ラベル**: 名札を設定（「選択したファイル名を名前にする」をチェックすると自動入力）
    - **種類**: ファイル / URL を選択
    - **参照**: [ファイル参照]: 個別のファイルをリンク/[フォルダ参照]: フォルダ全体をリンク

### 4. プレビュー表示（閲覧モード）
1. 「閲覧」ボタンをクリックして閲覧モードに切り替え
2. エリアにマウスをホバーするとプレビューが表示されます
    - **操作**: `Ctrl + V` を押すとプレビューが固定され、マウスで操作（スクロールやコピー）できます。もう一度押すと解除されます。
3. エリアをクリックすると、紐付いたファイルやフォルダが関連付けられたアプリ（またはエクスプローラー）で開きます。

### 5. プロジェクトの保存
1. 「保存」ボタンをクリック
2. プロジェクト設定が `saves/プロジェクト名/` に保存されます
3. 次回起動時は「開く」ボタンから保存済みプロジェクトを選択できます

## トラブルシューティング

### ビルドしたexeでファイル保存ができない
ビルド済みアプリは `.exe` と同じ階層に `saves` フォルダを作成します。フォルダの書き込み権限がある場所（デスクトップやドキュメントなど）に配置してください。

### プレビューが表示されない
一部のファイル形式や、非常に巨大なファイルはプレビューできない場合があります。その場合は「ファイル形式はサポートされていません」と表示されます。

## 開発者向けメモ

- **開発ツール**: アプリ実行中に `F12` で開発者ツールを開けます
- **デバッグ**: `console.log` の出力は開発者ツールのConsoleタブで確認できます
